<div style="max-width: 600px; margin: 2rem auto; padding: 2rem; border: 1px solid #ddd; border-radius: 8px; font-family: sans-serif;">
  <h2 style="text-align: center;">メッセージ一覧</h2>
  <% if @rooms.any? %>
    <% @rooms.each do |room| %>
      <%# 自分以外の参加者を探す %>
      <% opponent = room.entries.where.not(user_id: current_user.id).first.user %>
      <%= link_to room_path(room), style: "text-decoration: none; color: #333;" do %>
        <div style="padding: 15px; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 15px;">
          <% if opponent.profile_image.attached? %>
            <%= image_tag opponent.profile_image, style: "width: 40px; height: 40px; border-radius: 50%; object-fit: cover;" %>
          <% else %>
            <div style="width: 40px; height: 40px; border-radius: 50%; background-color: #eee;"></div>
          <% end %>
          <div>
            <div style="font-weight: bold;"><%= opponent.nickname.presence || opponent.email %></div>
            <div style="font-size: 0.8rem; color: #999;">最新のメッセージを表示するにはロジックの追加が必要です</div>
          </div>
        </div>
      <% end %>
    <% end %>
  <% else %>
    <p style="text-align: center; color: #999;">メッセージのやり取りはありません。</p>
  <% end %>
</div>