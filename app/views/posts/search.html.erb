<div style="max-width: 600px; margin: 0 auto; padding: 20px; background: white; border: 1px solid #ddd; min-height: 100vh;">
  <h2 style="font-weight: bold;">話題を検索</h2>

  <%= form_with url: search_posts_path, method: :get, local: true do %>
    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
      <%= text_field_tag :keyword, params[:keyword], placeholder: "キーワードを入力", 
          style: "flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px;" %>
      <%= submit_tag "検索", style: "padding: 0 20px; cursor: pointer; background: #1da1f2; color: white; border: none; border-radius: 5px;" %>
    </div>
  <% end %>

  <% if @keyword.present? %>
    <p style="font-size: 0.9rem; color: #666;">「<%= @keyword %>」の検索結果</p>
    
    <div style="margin-top: 20px;">
      <h3 style="border-bottom: 1px solid #eee; padding-bottom: 5px;">ユーザー (<%= @users.count %>)</h3>
      <% @users.each do |user| %>
        <div style="padding: 10px; border-bottom: 1px solid #eee;">
          <%= link_to user.nickname, user_path(user), style: "text-decoration: none; color: #1da1f2; font-weight: bold;" %>
        </div>
      <% end %>
    </div>

    <div style="margin-top: 20px;">
      <h3 style="border-bottom: 1px solid #eee; padding-bottom: 5px;">投稿 (<%= @posts.count %>)</h3>
      <% @posts.each do |post| %>
        <div style="padding: 15px; border-bottom: 1px solid #eee;">
          <strong><%= post.user&.nickname %></strong>
          <p style="margin: 5px 0;"><%= post.content %></p>
        </div>
      <% end %>
    </div>
  <% end %>
</div>